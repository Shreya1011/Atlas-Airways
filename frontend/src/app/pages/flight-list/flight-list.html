<app-navbar></app-navbar>

<div class="container mt-5">
  <h2 class="text-center mb-4 fw-bold">✈️ Available Flights</h2>

  <!-- No Flights -->
  <div *ngIf="flights.length === 0" class="text-center text-muted no-flights">
    <p>No flights available for the selected route.</p>
  </div>

  <!-- Flight Cards -->
  <div class="row g-4">
    <div class="col-md-6 col-lg-4" *ngFor="let flight of flights">
      <div class="flight-card shadow-sm">
        <div class="flight-header">
          <h5 class="airline">{{ flight.airline }}</h5>
          <span class="badge bg-secondary flight-number">#{{ flight.flightNumber }}</span>
        </div>

        <div class="flight-route">
          <p class="mb-1">
            <strong>{{ flight.departure }}</strong> ({{ flight.departureTime }})  
            <span class="arrow">→</span>  
            <strong>{{ flight.arrival }}</strong> ({{ flight.arrivalTime }})
          </p>
        </div>

        <div class="flight-pricing mt-3">
          <p class="economy">
            <span class="label">Economy</span> ₹{{ flight.fareEconomy }}  
            <span class="seats">Seats: {{ flight.availableSeatsEconomy }}</span>
          </p>
          <p class="business">
            <span class="label">Business</span> ₹{{ flight.fareBusiness }}  
            <span class="seats">Seats: {{ flight.availableSeatsBusiness }}</span>
          </p>
        </div>

        <div class="flight-actions mt-3">
          <button class="btn btn-outline-primary w-100 mb-2"
            [disabled]="flight.availableSeatsEconomy === 0"
            (click)="selectFlight(flight,'Economy')">
            Select Economy
          </button>
          <button class="btn btn-outline-success w-100"
            [disabled]="flight.availableSeatsBusiness === 0"
            (click)="selectFlight(flight,'Business')">
            Select Business
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
